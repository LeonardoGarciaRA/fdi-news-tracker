<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FDI Projects Tracker - Latin America</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <div>
                <p class="nav-eyebrow">Latin America FDI Monitor</p>
                <h1 class="logo">FDI Projects Tracker</h1>
            </div>
            <div class="nav-actions">
                <button id="exportBtn" class="btn btn-secondary">Exportar Excel</button>
                <button id="clearBtn" class="btn btn-danger">Limpar Tudo</button>
            </div>
        </div>
    </nav>

    <header class="hero">
        <div class="container hero-grid">
            <div>
                <p class="hero-kicker">Monitoramento automatizado</p>
                <h2>Notícias qualificada de IED na América Latina</h2>
                <p>
                    Coletamos, filtramos e resumimos os anúncios de investimentos estrangeiros diretos com apoio de IA, para que
                    você acompanhe os projetos mais relevantes em segundos.
                </p>
            </div>
            <ul class="hero-list">
                <li>Filtros inteligentes por país, setor e score de relevância</li>
                <li>Resumos em linguagem natural gerados por IA</li>
                <li>Exportação rápida dos dados e linha do tempo sempre atualizada</li>
            </ul>
        </div>
    </header>

    <main class="container">
        <!-- Tabs -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="general">General Search</button>
            <button class="tab-btn" data-tab="date">Search by Date</button>
        </div>

        <!-- General Search Tab -->
        <section class="search-section tab-content active" id="general-tab">
            <h2>Search FDI News in Latin America</h2>
            <div class="search-box">
                <input 
                    type="text" 
                    id="searchInput" 
                    placeholder="Search for FDI projects (e.g., 'FDI Brazil manufacturing')"
                    value="FDI projects Latin America"
                >
                <button id="searchBtn" class="btn btn-primary">Search News</button>
            </div>
        </section>

        <!-- Date Search Tab -->
        <section class="search-section tab-content" id="date-tab">
            <h2>Search FDI News by Specific Date</h2>
            <div class="search-box date-search-box">
                <div class="date-input-group">
                    <label for="dateInput">Select Date:</label>
                    <input 
                        type="date" 
                        id="dateInput" 
                        max=""
                    >
                </div>
                <button id="dateSearchBtn" class="btn btn-primary">Search by Date</button>
            </div>
            <p class="date-help-text">Find FDI news articles published on a specific date in Latin America</p>
        </section>

        <section class="stats-section">
            <div class="stat-card">
                <p class="stat-label">Total coletado</p>
                <h3 id="totalNews">0</h3>
            </div>
            <div class="stat-card">
                <p class="stat-label">Visíveis após filtros</p>
                <h3 id="visibleNews">0</h3>
            </div>
            <div class="stat-card">
                <p class="stat-label">Última atualização</p>
                <h3 id="lastUpdate">-</h3>
            </div>
        </section>

        <section class="filter-panel">
            <div class="filter-header">
                <div>
                    <h3>Refine os resultados</h3>
                    <p>Combine filtros para destacar apenas os anúncios mais relevantes.</p>
                </div>
                <button id="resetFilters" class="btn btn-secondary ghost">Limpar filtros</button>
            </div>
            <div class="filters-grid">
                <label class="form-control">
                    <span>País</span>
                    <select id="countryFilter">
                        <option value="all">Todos</option>
                    </select>
                </label>
                <label class="form-control">
                    <span>Setor</span>
                    <select id="sectorFilter">
                        <option value="all">Todos</option>
                    </select>
                </label>
                <label class="form-control">
                    <span>Score mínimo de relevância</span>
                    <input type="range" id="scoreFilter" min="0" max="20" value="0">
                    <small id="scoreValue">0</small>
                </label>
                <label class="form-control">
                    <span>Buscar no texto</span>
                    <input type="text" id="textFilter" placeholder="Ex.: hidrogênio verde, nearshoring...">
                </label>
            </div>
            <div id="activeFilters" class="active-filters"></div>
        </section>

        <section class="news-section">
            <h2>Latest FDI News in Latin America</h2>
            <div id="loading" class="loading hidden">Loading latest news...</div>
            <div id="newsContainer" class="news-container">
                <p class="empty-state">Loading latest FDI news...</p>
            </div>
            <!-- Pagination -->
            <div id="pagination" class="pagination hidden">
                <button id="prevPage" class="btn btn-secondary">Previous</button>
                <span id="pageInfo" class="page-info">Page 1 of 1</span>
                <button id="nextPage" class="btn btn-secondary">Next</button>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 FDI Projects Tracker - Latin America</p>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>

